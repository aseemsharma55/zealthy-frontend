{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Aseem/react-typescript-zealthy/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Aseem/react-typescript-zealthy/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/Aseem/react-typescript-zealthy/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Aseem/react-typescript-zealthy/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Aseem/react-typescript-zealthy/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Ticket=function Ticket(){var _useState=useState({name:'',email:'',description:''}),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),status=_useState4[0],setStatus=_useState4[1];var handleInputChange=function handleInputChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setInput(function(prevInput){return _objectSpread(_objectSpread({},prevInput),{},_defineProperty({},name,value));});};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post('http://127.0.0.1:8000/zealthy/user_query',input);case 3:response=_context.sent;console.log(response);if(response.status===200){// Handle success - maybe clear the form or show a success message\nalert(\"Ticket submitted successfully!\");console.log(\"Ticket submitted successfully!\",response.data);}else{// Handle any non-200 HTTP status codes as you see fit\nconsole.error(\"Error submitting ticket:\",response.data);}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);// Handle errors, e.g., network error or invalid JSON response\nconsole.error(\"API call failed:\",_context.t0);case 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function handleSubmit(){return _ref.apply(this,arguments);};}();var handleCheckUpdate=function handleCheckUpdate(){// Logic to fetch the status of the problem for the user\n// This is a mockup, replace with actual fetch logic\nsetStatus('in progress');// replace with actual status\n};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-4\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Submit a Ticket\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"name\",value:input.name,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",name:\"email\",value:input.email,onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",name:\"description\",value:input.description,onChange:handleInputChange})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary\",onClick:handleSubmit,children:\"Submit\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Check your ticket status\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-info\",onClick:handleCheckUpdate,children:\"Show me update\"}),status&&/*#__PURE__*/_jsxs(\"p\",{className:\"mt-2\",children:[\"Your ticket status: \",/*#__PURE__*/_jsx(\"strong\",{children:status})]})]})]});};export default Ticket;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","Ticket","_useState","name","email","description","_useState2","_slicedToArray","input","setInput","_useState3","_useState4","status","setStatus","handleInputChange","e","_e$target","target","value","prevInput","_objectSpread","_defineProperty","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","post","sent","console","log","alert","data","error","t0","stop","apply","arguments","handleCheckUpdate","className","children","type","onChange","onClick"],"sources":["C:/Users/Aseem/react-typescript-zealthy/src/components/Ticket.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\ninterface UserInput {\r\n  name: string;\r\n  email: string;\r\n  description: string;\r\n}\r\n\r\nconst Ticket: React.FC = () => {\r\n  const [input, setInput] = useState<UserInput>({ name: '', email: '', description: '' });\r\n  const [status, setStatus] = useState<string | null>(null);\r\n\r\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\r\n    const { name, value } = e.target;\r\n    setInput((prevInput) => ({ ...prevInput, [name]: value }));\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    try {\r\n        const response = await axios.post('http://127.0.0.1:8000/zealthy/user_query', input);\r\n        console.log(response)\r\n        \r\n        if (response.status === 200) {\r\n            // Handle success - maybe clear the form or show a success message\r\n            alert(\"Ticket submitted successfully!\")\r\n            console.log(\"Ticket submitted successfully!\", response.data);\r\n        } else {\r\n            // Handle any non-200 HTTP status codes as you see fit\r\n            console.error(\"Error submitting ticket:\", response.data);\r\n        }\r\n    } catch (error) {\r\n        // Handle errors, e.g., network error or invalid JSON response\r\n        console.error(\"API call failed:\", error);\r\n    }\r\n    \r\n};\r\n\r\n\r\n  const handleCheckUpdate = () => {\r\n    // Logic to fetch the status of the problem for the user\r\n    // This is a mockup, replace with actual fetch logic\r\n    setStatus('in progress'); // replace with actual status\r\n  };\r\n\r\n  return (\r\n    <div className=\"container mt-4\">\r\n      <h2>Submit a Ticket</h2>\r\n      <form>\r\n        <div className=\"mb-3\">\r\n          <label className=\"form-label\">Name</label>\r\n          <input type=\"text\" className=\"form-control\" name=\"name\" value={input.name} onChange={handleInputChange} />\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label className=\"form-label\">Email</label>\r\n          <input type=\"email\" className=\"form-control\" name=\"email\" value={input.email} onChange={handleInputChange} />\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label className=\"form-label\">Description</label>\r\n          <textarea className=\"form-control\" name=\"description\" value={input.description} onChange={handleInputChange}></textarea>\r\n        </div>\r\n        <button type=\"button\" className=\"btn btn-primary\" onClick={handleSubmit}>Submit</button>\r\n      </form>\r\n\r\n      <div className=\"mt-4\">\r\n        <h3>Check your ticket status</h3>\r\n        <button className=\"btn btn-info\" onClick={handleCheckUpdate}>Show me update</button>\r\n        {status && <p className=\"mt-2\">Your ticket status: <strong>{status}</strong></p>}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Ticket;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}